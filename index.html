<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Will you be my Valentine?</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
:root {
  --bg1:#ffd6e7;
  --bg2:#ffeef6;
  --card:#ffffffcc;
  --yes:#ff3b7a;
  --yesHover:#ff1f68;
}

* { box-sizing:border-box; }

body {
  margin:0;
  min-height:100svh;
  display:grid;
  place-items:center;
  background:radial-gradient(circle at top,var(--bg2),var(--bg1));
  font-family:system-ui,sans-serif;
  overflow:hidden;
  padding:16px;
  cursor:none;
}

/* CONFETTI */
#confettiCanvas {
  position:fixed;
  inset:0;
  width:100vw;
  height:100vh;
  pointer-events:none;
  z-index:9998;
}

/* HEART TRAIL */
.heart {
  position:fixed;
  pointer-events:none;
  font-size:18px;
  animation:floatUp .8s ease-out forwards;
  z-index:9999;
}

@keyframes floatUp {
  0% { transform:translate(-50%,-50%) scale(1); opacity:1; }
  100% { transform:translate(-50%,-80%) scale(1.6); opacity:0; }
}

/* CARD */
.card {
  width:min(720px,92vw);
  padding:26px 22px;
  background:var(--card);
  backdrop-filter:blur(12px);
  border-radius:24px;
  text-align:center;
  box-shadow:0 18px 60px rgba(0,0,0,.15);
}

.art {
  width:min(260px,80vw);
  margin:0 auto 10px;
  display:block;
  filter:drop-shadow(0 10px 14px rgba(0,0,0,.12));
  animation:bounce 3s ease-in-out infinite;
  transition:transform .3s ease;
}

.art:hover {
  transform:scale(1.05);
}

@keyframes bounce {
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(-8px);}
}

/* BLINK */
.blink {
  transform-origin:center;
  animation:blinkAnim 4s infinite;
}

@keyframes blinkAnim {
  0%, 92%, 100% { transform:scaleY(1); }
  95% { transform:scaleY(0.1); }
}

/* BLUSH */
.blush {
  opacity:0;
  transition:opacity .3s ease;
}

.art:hover .blush {
  opacity:0.8;
}

h1 {
  font-size:clamp(26px,4vw,44px);
  margin:12px 0 18px;
}

.button-zone {
  position:relative;
  width:min(520px,92%);
  height:150px;
  margin:0 auto;
}

button {
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  padding:16px 24px;
  font-size:18px;
  font-weight:800;
  border-radius:999px;
  border:none;
  cursor:pointer;
  box-shadow:0 10px 24px rgba(0,0,0,.14);
  transition:transform .12s ease,background .12s ease;
}

#yesBtn {
  left:18%;
  background:var(--yes);
  color:#fff;
}
#yesBtn:hover { background:var(--yesHover); }

#noBtn {
  left:62%;
  background:#e5e7eb;
  color:#111827;
}

.hint {
  margin-top:10px;
  font-size:13px;
  opacity:.7;
}

.result {
  display:none;
  margin-top:18px;
  animation:pop .35s ease;
}

@keyframes pop {
  from { transform:scale(.96); opacity:0; }
  to { transform:scale(1); opacity:1; }
}

.fireworks {
  width:min(380px,90vw);
  margin:0 auto;
  display:block;
}
</style>
</head>

<body>

<canvas id="confettiCanvas"></canvas>

<main class="card">

<!-- BLINKING & BLUSHING CAT -->
<svg class="art" viewBox="0 0 320 260">
  <defs>
    <linearGradient id="catFur" x1="0" x2="1">
      <stop offset="0" stop-color="#ffd4b8"/>
      <stop offset="1" stop-color="#ffb38a"/>
    </linearGradient>
    <linearGradient id="catHeart" x1="0" x2="1">
      <stop offset="0" stop-color="#ff4d7d"/>
      <stop offset="1" stop-color="#ff1f68"/>
    </linearGradient>
  </defs>

  <path d="M250 50 C250 33 270 25 282 38
           C294 25 314 33 314 50
           C314 78 282 92 282 106
           C282 92 250 78 250 50Z"
        fill="url(#catHeart)"/>

  <circle cx="160" cy="140" r="75" fill="url(#catFur)" />

  <path d="M95 95 L120 50 L150 100 Z" fill="#ffb38a"/>
  <path d="M225 95 L200 50 L170 100 Z" fill="#ffb38a"/>

  <!-- Eyes -->
  <g class="blink">
    <circle cx="135" cy="140" r="8"/>
    <circle cx="185" cy="140" r="8"/>
  </g>

  <!-- Blush -->
  <ellipse class="blush" cx="125" cy="165" rx="15" ry="8" fill="#ff7aa2"/>
  <ellipse class="blush" cx="195" cy="165" rx="15" ry="8" fill="#ff7aa2"/>

  <polygon points="160,160 150,175 170,175" fill="#ff7aa2"/>
  <line x1="110" y1="165" x2="140" y2="160" stroke="#111" stroke-width="2"/>
  <line x1="210" y1="165" x2="180" y2="160" stroke="#111" stroke-width="2"/>
</svg>

<h1>nei jyun ji zou ngo ge Valentine maa?</h1>

<section class="button-zone" id="zone">
  <button id="yesBtn">Yes</button>
  <button id="noBtn">No</button>
</section>

<div class="hint" id="hint">‚ÄúNo‚Äù seems a bit shy üòõ</div>

<section class="result" id="result">
  <h2>YAY! üéâ</h2>
  <img class="fireworks"
       src="https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif" />
</section>

</main>

<script>
/* HEART TRAIL */
document.addEventListener("mousemove", e => {
  const heart=document.createElement("div");
  heart.className="heart";
  heart.textContent="‚ù§Ô∏è";
  heart.style.left=e.clientX+"px";
  heart.style.top=e.clientY+"px";
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),800);
});

/* CONFETTI */
const canvas=document.getElementById("confettiCanvas");
const resize=()=>{
  const dpr=Math.max(1,window.devicePixelRatio||1);
  canvas.width=window.innerWidth*dpr;
  canvas.height=window.innerHeight*dpr;
};
resize();
window.addEventListener("resize",resize);

const confettiInstance=confetti.create(canvas,{resize:true,useWorker:true});

function fullScreenConfetti(){
  confettiInstance({
    particleCount:300,
    spread:140,
    startVelocity:60,
    origin:{x:0.5,y:0.55}
  });
}

/* BUTTON LOGIC */
const zone=document.getElementById("zone");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const result=document.getElementById("result");
const hint=document.getElementById("hint");

let yesScale=1;

function growYes(){
  yesScale=Math.min(2.5,yesScale+0.1);
  yesBtn.style.transform=`translateY(-50%) scale(${yesScale})`;
}

function clamp(n,min,max){return Math.max(min,Math.min(max,n));}

function moveNo(px,py){
  const z=zone.getBoundingClientRect();
  const b=noBtn.getBoundingClientRect();
  let dx=(b.left+b.width/2)-px;
  let dy=(b.top+b.height/2)-py;
  let mag=Math.hypot(dx,dy)||1;
  dx/=mag; dy/=mag;
  let newLeft=(b.left-z.left)+dx*150;
  let newTop=(b.top-z.top)+dy*150;
  newLeft=clamp(newLeft,0,z.width-b.width);
  newTop=clamp(newTop,0,z.height-b.height);
  noBtn.style.left=newLeft+"px";
  noBtn.style.top=newTop+"px";
  noBtn.style.transform="none";
  growYes();
}

zone.addEventListener("pointermove",e=>{
  const b=noBtn.getBoundingClientRect();
  const d=Math.hypot(
    (b.left+b.width/2)-e.clientX,
    (b.top+b.height/2)-e.clientY
  );
  if(d<140) moveNo(e.clientX,e.clientY);
});

yesBtn.addEventListener("click",()=>{
  zone.style.display="none";
  hint.style.display="none";
  result.style.display="block";
  fullScreenConfetti();
});
</script>

</body>
</html>